@use '@/styles/variables' as *;

.inventoryPanel {
  background-color: $color-bg-dark;
  border: 1px solid $color-border;
  border-radius: 8px;
  padding: 0.5rem;
  height: 100%;
  display: flex;
  flex-direction: column;
  gap: 0.5rem;
  box-sizing: border-box;

  // Убрали position: relative, так как кнопка теперь внутри хедера

  // --- TABS HEADER ---
  .tabsHeader {
    display: flex;
    align-items: center;
    justify-content: center;
    position: relative; // Чтобы позиционировать кнопку внутри хедера
    padding-bottom: 0.5rem;
    border-bottom: 1px solid rgba($color-border, 0.5);
    min-height: 50px; // Высота под новую кнопку

    .tabsList {
      display: flex;
      gap: 1rem;
      justify-content: center;
      flex: 1; // Занимаем центр
    }

    .tabButton {
      background: transparent;
      border: 2px solid transparent;
      border-radius: 6px;
      padding: 6px 12px;
      cursor: pointer;
      color: $btn-color-grey;
      transition: all 0.2s ease;

      .tabIcon {
        width: 32px;
        height: 32px;
        fill: currentColor;
      }

      &:hover {
        color: $btn-color-white;
        background-color: rgba(255, 255, 255, 0.05);
      }

      &.active {
        color: $btn-color-yellow;
        border-color: rgba($btn-color-yellow, 0.3);
        background-color: rgba($btn-color-yellow, 0.1);
        filter: drop-shadow(0 0 5px rgba($btn-color-yellow, 0.4));
      }
    }

    // --- CLOSE BUTTON (Внутри хедера) ---
    .closeButton {
      position: absolute;
      right: 0;

      width: 40px; // Увеличили размер (~ в 2 раза)
      height: 40px;

      border-radius: 8px; // Слегка скруглили, чтобы не был кругом
      background-color: rgba(0, 0, 0, 0.2);
      border: 1px solid $color-border;
      color: $btn-color-grey;

      display: flex;
      align-items: center;
      justify-content: center;
      cursor: pointer;

      font-weight: bold;
      font-size: 1.2rem;
      font-family: sans-serif;
      transition: all 0.2s;

      &:hover {
        background-color: $btn-color-red;
        border-color: $btn-color-red;
        color: white;
      }
    }
  }

  // --- GRID CONTAINER ---
  .gridContainer {
    flex: 1;
    min-height: 0;
    display: flex;
    flex-direction: column;
  }

  // --- FILTERS FOOTER ---
  .filtersFooter {
    display: flex;
    justify-content: center;
    gap: 1.5rem;
    padding-top: 0.5rem;
    border-top: 1px solid rgba($color-border, 0.5);

    .rarityCheckbox {
      display: flex;
      align-items: center;
      gap: 6px;
      cursor: pointer;
      font-size: 0.9rem;
      user-select: none;
      color: $btn-color-grey;
      transition: color 0.2s;

      input {
        display: none;
      }

      .checkmark {
        width: 14px;
        height: 14px;
        border: 2px solid #555;
        border-radius: 3px;
        display: inline-block;
        position: relative;
        transition: all 0.2s;
      }

      &:hover {
        color: #fff;
      }

      input:checked + .checkmark {
        background-color: currentColor;
        border-color: currentColor;
        box-shadow: 0 0 4px currentColor;
      }

      &.common {
        color: $rarity-common;
        input:checked ~ .labelName {
          color: #fff;
          text-shadow: 0 0 3px $rarity-common;
        }
      }
      &.uncommon {
        color: $rarity-uncommon;
        input:checked ~ .labelName {
          color: #fff;
          text-shadow: 0 0 3px $rarity-uncommon;
        }
      }
      &.rare {
        color: $rarity-rare;
        input:checked ~ .labelName {
          color: #fff;
          text-shadow: 0 0 3px $rarity-rare;
        }
      }
      &.unique {
        color: $rarity-unique;
        input:checked ~ .labelName {
          color: #fff;
          text-shadow: 0 0 3px $rarity-unique;
        }
      }
    }
  }
}
